{% extends 'base.html' %}
{% load static %}

{% block title %}é”™é¢˜ä¸Šä¼  - å­¦ç”Ÿå­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<!-- æ²‰æµ¸å¼èƒŒæ™¯ -->
<div class="floating-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
</div>

<div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
        <div class="glass-card fade-in">
            <div class="card-body p-5">
                <!-- æ ‡é¢˜åŒºåŸŸ -->
                <div class="text-center mb-5">
                    <div class="d-inline-block position-relative mb-3">
                        <div class="avatar-glow"></div>
                        <div class="pulse-icon" style="width: 80px; height: 80px; font-size: 2rem; background: linear-gradient(135deg, #17a2b8, #6f42c1);">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                    </div>
                    <h2 class="text-dark fw-bold mb-2">æ™ºèƒ½é”™é¢˜ä¸Šä¼ </h2>
                    <p class="text-muted mb-0">AIæ™ºèƒ½è¯†åˆ«é¢˜ç›®å†…å®¹ï¼Œç”Ÿæˆè¯¦ç»†è§£æ</p>
                </div>
                <!-- ä¸Šä¼ è¯´æ˜ -->
                <div class="alert mb-4">
                    <h6><i class="fas fa-info-circle me-2"></i>ä¸Šä¼ è¯´æ˜</h6>
                    <ul class="mb-0">
                        <li>æ”¯æŒå›¾ç‰‡æ ¼å¼ï¼šJPGã€PNGã€GIF</li>
                        <li>æ”¯æŒæ–‡æ¡£æ ¼å¼ï¼šPDF</li>
                        <li>æ–‡ä»¶å¤§å°ä¸è¶…è¿‡10MB</li>
                        <li>AIå°†è‡ªåŠ¨è¯†åˆ«é¢˜ç›®å†…å®¹ã€å­¦ç§‘ã€çŸ¥è¯†ç‚¹</li>
                        <li>ç”Ÿæˆè¯¦ç»†è§£é¢˜æ­¥éª¤å’Œæ ‡å‡†ç­”æ¡ˆ</li>
                    </ul>
                </div>

                <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ -->
                <div class="upload-area mb-4" id="uploadArea">
                    <div class="text-center">
                        <i class="fas fa-cloud-upload-alt fa-4x text-primary mb-3"></i>
                        <h5>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</h5>
                        <p class="text-muted mb-3">æ”¯æŒ JPGã€PNGã€PDF æ ¼å¼</p>
                        <input type="file" id="fileInput" accept=".jpg,.jpeg,.png,.gif,.pdf" style="display: none;">
                        <button type="button" class="btn btn-outline-primary" onclick="event.stopPropagation(); document.getElementById('fileInput').click()">
                            <i class="fas fa-folder-open me-2"></i>é€‰æ‹©æ–‡ä»¶
                        </button>
                    </div>
                </div>

                <!-- æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º -->
                <div id="fileInfo" class="card mb-4" style="display: none;">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col">
                                <h6 class="mb-1">å·²é€‰æ‹©æ–‡ä»¶ï¼š</h6>
                                <p class="mb-0 file-name text-primary"></p>
                                <small class="file-size text-muted"></small>
                            </div>
                            <div class="col-auto">
                                <button type="button" class="btn btn-sm btn-outline-danger" onclick="clearFile()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å›¾ç‰‡é¢„è§ˆ -->
                <div id="imagePreview" class="mb-4" style="display: none; background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
                    <div class="p-3">
                        <h6 class="mb-3" style="color: #ffffff;">å›¾ç‰‡é¢„è§ˆ</h6>
                        <div class="text-center">
                            <!-- é¢„è§ˆå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ’å…¥ -->
                        </div>
                    </div>
                </div>

                <!-- ä¸Šä¼ æŒ‰é’® -->
                <div class="text-center" id="uploadSection" style="display: none;">
                    <button type="button" class="btn btn-primary btn-lg" id="uploadBtn" onclick="uploadExercise()">
                        <i class="fas fa-brain me-2"></i>AIæ™ºèƒ½åˆ†æ
                    </button>
                    <div class="mt-2">
                        <small class="text-muted">ç‚¹å‡»å¼€å§‹AIæ™ºèƒ½è¯†åˆ«å’Œåˆ†æ</small>
                    </div>
                </div>

                <!-- åˆ†æç»“æœ -->
                <div id="analysisResult" style="display: none;">
                    <div class="card border-success">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0">
                                <i class="fas fa-check-circle me-2"></i>AIåˆ†æç»“æœ
                            </h5>
                        </div>
                        <div class="card-body">
                            <!-- é¢˜ç›®ä¿¡æ¯ -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-book me-2"></i>é¢˜ç›®ä¿¡æ¯</h6>
                                    <div id="exerciseInfo"></div>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-tags me-2"></i>çŸ¥è¯†ç‚¹</h6>
                                    <div id="knowledgePoints"></div>
                                </div>
                            </div>

                            <!-- é¢˜ç›®å†…å®¹ -->
                            <div class="mb-4">
                                <h6><i class="fas fa-question-circle me-2"></i>é¢˜ç›®å†…å®¹</h6>
                                <div id="questionContent" class="alert alert-light"></div>
                            </div>

                            <!-- è§£é¢˜æ­¥éª¤ -->
                            <div class="mb-4">
                                <h6><i class="fas fa-list-ol me-2"></i>è§£é¢˜æ­¥éª¤</h6>
                                <div id="answerSteps" class="alert alert-info"></div>
                            </div>

                            <!-- æ ‡å‡†ç­”æ¡ˆ -->
                            <div class="mb-4">
                                <h6><i class="fas fa-check me-2"></i>æ ‡å‡†ç­”æ¡ˆ</h6>
                                <div id="correctAnswer" class="alert alert-success"></div>
                            </div>

                            <!-- æ“ä½œæŒ‰é’® -->
                            <div class="text-center">
                                <button type="button" class="btn btn-success btn-lg" onclick="saveExercise()">
                                    <i class="fas fa-save me-2"></i>ä¿å­˜åˆ°é”™é¢˜æœ¬
                                </button>
                                <button type="button" class="btn btn-outline-secondary btn-lg ms-2" onclick="resetUpload()">
                                    <i class="fas fa-plus me-2"></i>ä¸Šä¼ æ–°é¢˜
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åŠ è½½åŠ¨ç”» -->
                <div id="loadingModal" class="text-center" style="display: none;">
                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                        <span class="visually-hidden">AIåˆ†æä¸­...</span>
                    </div>
                    <h5 class="mt-3">AIæ­£åœ¨æ™ºèƒ½åˆ†æé¢˜ç›®...</h5>
                    <p class="text-muted">è¯·ç¨å€™ï¼Œè¿™å¯èƒ½éœ€è¦å‡ ç§’é’Ÿ</p>
                    <div class="progress mt-3" style="height: 6px;">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
let selectedFile = null;
let analysisData = null;

document.addEventListener('DOMContentLoaded', function() {
    // ç¡®ä¿è·å–æœ€æ–°çš„token
    accessToken = localStorage.getItem('access_token');
    refreshToken = localStorage.getItem('refresh_token');

    console.log('Token check:', accessToken ? 'Token exists' : 'No token found');

    initializeUploadArea();
});

// åˆå§‹åŒ–ä¸Šä¼ åŒºåŸŸ
function initializeUploadArea() {
    const uploadArea = document.getElementById('uploadArea');
    const fileInput = document.getElementById('fileInput');

    // ç§»é™¤å¯èƒ½å­˜åœ¨çš„å…¨å±€ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
    uploadArea.removeEventListener('click', handleUploadAreaClick);

    // æ·»åŠ è‡ªå®šä¹‰ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ï¼Œé˜²æ­¢åŒå‡»å¼¹å‡º
    uploadArea.addEventListener('click', handleUploadAreaClick);

    // æ–‡ä»¶é€‰æ‹©äº‹ä»¶
    fileInput.addEventListener('change', function(e) {
        if (e.target.files.length > 0) {
            handleFileSelect(e.target.files[0]);
        }
    });

    // æ‹–æ‹½äº‹ä»¶å·²åœ¨main.jsä¸­å¤„ç†
}

// å¤„ç†ä¸Šä¼ åŒºåŸŸç‚¹å‡»äº‹ä»¶ï¼Œé˜²æ­¢åŒå‡»å¼¹å‡º
function handleUploadAreaClick(e) {
    // æ’é™¤æŒ‰é’®å’ŒæŒ‰é’®å†…çš„å…ƒç´ 
    if (!e.target.closest('button')) {
        document.getElementById('fileInput').click();
    }
}

// å¤„ç†æ–‡ä»¶é€‰æ‹©
function handleFileSelect(file) {
    // éªŒè¯æ–‡ä»¶ç±»å‹
    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'application/pdf'];
    if (!allowedTypes.includes(file.type)) {
        showMessage('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶æˆ–PDFæ–‡ä»¶', 'warning');
        return;
    }

    // éªŒè¯æ–‡ä»¶å¤§å°
    const maxSize = 10 * 1024 * 1024; // 10MB
    if (file.size > maxSize) {
        showMessage('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MB', 'warning');
        return;
    }

    selectedFile = file;

    // æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯
    showFileInfo(file);

    // æ˜¾ç¤ºå›¾ç‰‡é¢„è§ˆ
    if (file.type.startsWith('image/')) {
        showImagePreview(file);
    }

    // æ˜¾ç¤ºä¸Šä¼ æŒ‰é’®
    document.getElementById('uploadSection').style.display = 'block';
}

// æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯
function showFileInfo(file) {
    const fileInfo = document.getElementById('fileInfo');
    const fileName = fileInfo.querySelector('.file-name');
    const fileSize = fileInfo.querySelector('.file-size');

    fileName.textContent = file.name;
    fileSize.textContent = `å¤§å°: ${formatFileSize(file.size)}`;

    fileInfo.style.display = 'block';
}

// æ˜¾ç¤ºå›¾ç‰‡é¢„è§ˆ
function showImagePreview(file) {
    const reader = new FileReader();
    reader.onload = function(e) {
        const preview = document.getElementById('imagePreview');
        const previewBody = preview.querySelector('.card-body');

        previewBody.innerHTML = `
            <img src="${e.target.result}" class="img-fluid rounded" alt="é¢„è§ˆ" style="max-height: 400px;">
        `;
        preview.style.display = 'block';
    };
    reader.readAsDataURL(file);
}

// æ¸…é™¤æ–‡ä»¶
function clearFile() {
    selectedFile = null;
    document.getElementById('fileInput').value = '';
    document.getElementById('fileInfo').style.display = 'none';
    document.getElementById('imagePreview').style.display = 'none';
    document.getElementById('uploadSection').style.display = 'none';
    document.getElementById('analysisResult').style.display = 'none';
}

// é‡ç½®ä¸Šä¼ 
function resetUpload() {
    clearFile();
    analysisData = null;
}

// ä¸Šä¼ ä¹ é¢˜
async function uploadExercise() {
    if (!selectedFile) {
        showMessage('è¯·å…ˆé€‰æ‹©æ–‡ä»¶', 'warning');
        return;
    }

    // ç¡®ä¿è·å–æœ€æ–°çš„token
    accessToken = localStorage.getItem('access_token');
    refreshToken = localStorage.getItem('refresh_token');

    console.log('Upload attempt with token:', accessToken ? 'Token exists' : 'No token');

    // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
    showLoading(true);

    try {
        const result = await uploadFile(selectedFile, '/exercises/upload/');
        analysisData = result;

        // æ˜¾ç¤ºåˆ†æç»“æœ
        showAnalysisResult(result);

        showMessage('AIåˆ†æå®Œæˆï¼', 'success');

    } catch (error) {
        console.error('ä¸Šä¼ å¤±è´¥:', error);
        showMessage('ä¸Šä¼ å¤±è´¥ï¼š' + (error.message || 'æœªçŸ¥é”™è¯¯'), 'danger');
    } finally {
        showLoading(false);
    }
}

// æ˜¾ç¤ºåˆ†æç»“æœ
function showAnalysisResult(data) {
    const result = data.analysis || data;

    // é¢˜ç›®ä¿¡æ¯
    const exerciseInfo = document.getElementById('exerciseInfo');
    exerciseInfo.innerHTML = `
        <p><strong>é¢˜ç›®æ ‡é¢˜ï¼š</strong> ${result.title || 'æœªè¯†åˆ«'}</p>
        <p><strong>å­¦ç§‘ï¼š</strong> ${result.subject || 'æœªè¯†åˆ«'}</p>
        <p><strong>å¹´çº§ï¼š</strong> ${result.grade_level ? (typeof result.grade_level === 'string' ? (result.grade_level.includes('å¹´çº§') ? result.grade_level : result.grade_level + 'å¹´çº§') : result.grade_level + 'å¹´çº§') : 'æœªè¯†åˆ«'}</p>
        <p><strong>éš¾åº¦ï¼š</strong>
            <span class="badge bg-${getDifficultyColor(result.difficulty)}">${getDifficultyText(result.difficulty)}</span>
        </p>
    `;

    // çŸ¥è¯†ç‚¹
    const knowledgePoints = document.getElementById('knowledgePoints');
    const points = result.knowledge_points || [];
    if (points.length > 0) {
        knowledgePoints.innerHTML = points.map(point =>
            `<span class="knowledge-tag">${point}</span>`
        ).join('');
    } else {
        knowledgePoints.innerHTML = '<span class="text-muted">æœªè¯†åˆ«çŸ¥è¯†ç‚¹</span>';
    }

    // é¢˜ç›®å†…å®¹
    const questionContent = document.getElementById('questionContent');
    questionContent.textContent = result.question_text || 'æœªè¯†åˆ«é¢˜ç›®å†…å®¹';

    // è§£é¢˜æ­¥éª¤
    const answerSteps = document.getElementById('answerSteps');
    answerSteps.innerHTML = `<pre style="white-space: pre-wrap; margin: 0;">${result.answer_steps || 'æœªç”Ÿæˆè§£é¢˜æ­¥éª¤'}</pre>`;

    // æ ‡å‡†ç­”æ¡ˆ
    const correctAnswer = document.getElementById('correctAnswer');
    correctAnswer.innerHTML = `<strong>${result.correct_answer || 'æœªç”Ÿæˆæ ‡å‡†ç­”æ¡ˆ'}</strong>`;

    // æ˜¾ç¤ºç»“æœåŒºåŸŸ
    document.getElementById('analysisResult').style.display = 'block';
    document.getElementById('uploadSection').style.display = 'none';

    // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
    document.getElementById('analysisResult').scrollIntoView({ behavior: 'smooth' });
}

// ä¿å­˜ä¹ é¢˜
async function saveExercise() {
    if (!analysisData) {
        showMessage('æ²¡æœ‰å¯ä¿å­˜çš„ä¹ é¢˜æ•°æ®', 'warning');
        return;
    }

    const saveBtn = document.querySelector('button[onclick="saveExercise()"]');
    const originalText = saveBtn.innerHTML;

    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    saveBtn.disabled = true;
    saveBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>ä¿å­˜ä¸­...';

    try {
        showMessage('æ­£åœ¨ä¿å­˜åˆ°é”™é¢˜æœ¬...', 'info');

        // é¦–å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨è¿™ä¸ªä¹ é¢˜è®°å½•
        const exerciseId = analysisData.exercise_id;
        const existingRecords = await apiRequest(`/exercises/student-exercises/?exercise=${exerciseId}`);

        if (existingRecords.results && existingRecords.results.length > 0) {
            // å·²ç»å­˜åœ¨è®°å½•ï¼Œç›´æ¥è¿”å›æˆåŠŸ
            saveBtn.innerHTML = '<i class="fas fa-check me-2"></i>å·²å­˜åœ¨é”™é¢˜æœ¬';
            saveBtn.classList.remove('btn-success');
            saveBtn.classList.add('btn-warning');

            showMessage('âœ… è¯¥ä¹ é¢˜å·²åœ¨é”™é¢˜æœ¬ä¸­ï¼', 'success');

            // å»¶è¿Ÿè·³è½¬åˆ°é¦–é¡µ
            setTimeout(() => {
                showMessage('ğŸ”„ 2ç§’åè·³è½¬åˆ°é¦–é¡µ...', 'info');
                setTimeout(() => {
                    window.location.href = "{% url 'web:dashboard' %}";
                }, 1000);
            }, 1000);
        } else {
            // ä¸å­˜åœ¨è®°å½•ï¼Œåˆ›å»ºæ–°è®°å½•
            const result = await apiRequest('/exercises/student-exercises/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    exercise: exerciseId,
                    status: 'not_attempted',
                    is_mistake: true
                })
            });

            // æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
            saveBtn.innerHTML = '<i class="fas fa-check me-2"></i>ä¿å­˜æˆåŠŸï¼';
            saveBtn.classList.remove('btn-success');
            saveBtn.classList.add('btn-success');

            showMessage('âœ… ä¹ é¢˜å·²æˆåŠŸä¿å­˜åˆ°é”™é¢˜æœ¬ï¼', 'success');

            // å»¶è¿Ÿè·³è½¬åˆ°é¦–é¡µ
            setTimeout(() => {
                showMessage('ğŸ”„ 2ç§’åè·³è½¬åˆ°é¦–é¡µ...', 'info');
                setTimeout(() => {
                    window.location.href = "{% url 'web:dashboard' %}";
                }, 1000);
            }, 1000);
        }

    } catch (error) {
        console.error('ä¿å­˜å¤±è´¥:', error);

        // æ˜¾ç¤ºå¤±è´¥çŠ¶æ€
        saveBtn.innerHTML = '<i class="fas fa-times me-2"></i>ä¿å­˜å¤±è´¥';
        saveBtn.classList.remove('btn-success');
        saveBtn.classList.add('btn-danger');

        showMessage('âŒ ä¿å­˜å¤±è´¥ï¼š' + (error.message || 'æœªçŸ¥é”™è¯¯'), 'danger');

        // 3ç§’åæ¢å¤æŒ‰é’®çŠ¶æ€
        setTimeout(() => {
            saveBtn.disabled = false;
            saveBtn.innerHTML = originalText;
            saveBtn.classList.remove('btn-danger');
            saveBtn.classList.add('btn-success');
        }, 3000);
    }
}

// æ˜¾ç¤º/éšè—åŠ è½½åŠ¨ç”»
function showLoading(show) {
    const loadingModal = document.getElementById('loadingModal');
    const uploadBtn = document.getElementById('uploadBtn');

    if (show) {
        loadingModal.style.display = 'block';
        uploadBtn.disabled = true;
        uploadBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>åˆ†æä¸­...';
    } else {
        loadingModal.style.display = 'none';
        uploadBtn.disabled = false;
        uploadBtn.innerHTML = '<i class="fas fa-brain me-2"></i>AIæ™ºèƒ½åˆ†æ';
    }
}

// è·å–éš¾åº¦é¢œè‰²
function getDifficultyColor(difficulty) {
    switch (difficulty) {
        case 'easy': return 'success';
        case 'medium': return 'warning';
        case 'hard': return 'danger';
        default: return 'secondary';
    }
}

// è·å–éš¾åº¦æ–‡æœ¬
function getDifficultyText(difficulty) {
    switch (difficulty) {
        case 'easy': return 'ç®€å•';
        case 'medium': return 'ä¸­ç­‰';
        case 'hard': return 'å›°éš¾';
        default: return 'æœªçŸ¥';
    }
}

// æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}
</script>

<style>
/* ä¸Šä¼ åŒºåŸŸæ ·å¼ */
.upload-area {
    border: 3px dashed #007bff;
    border-radius: 15px;
    padding: 3rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, #f8f9ff 0%, #e6f3ff 100%);
    transition: all 0.3s ease;
    cursor: pointer;
}

.upload-area:hover {
    border-color: #0056b3;
    background: linear-gradient(135deg, #e6f3ff 0%, #cce7ff 100%);
    transform: translateY(-2px);
}

.upload-area.dragover {
    border-color: #0056b3;
    background: linear-gradient(135deg, #e6f3ff 0%, #cce7ff 100%);
    transform: scale(1.02);
}

/* åˆ†æç»“æœå¡ç‰‡ */
#analysisResult .card {
    border-left: 5px solid #28a745;
}

/* æ–‡ä»¶ä¿¡æ¯å¡ç‰‡ */
#fileInfo {
    border-left: 5px solid #007bff;
}

/* å›¾ç‰‡é¢„è§ˆæ ·å¼ */
#imagePreview img {
    border: 1px solid #dee2e6;
    border-radius: 8px;
}

/* åŠ è½½åŠ¨ç”»æ ·å¼ */
#loadingModal {
    padding: 3rem 1rem;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .upload-area {
        padding: 2rem 1rem;
    }

    .upload-area h5 {
        font-size: 1.1rem;
    }

    .upload-area .fa-4x {
        font-size: 3rem;
    }
}

/* çŸ¥è¯†ç‚¹æ ‡ç­¾æ ·å¼ */
.knowledge-tag {
    display: inline-block;
    background-color: #e9ecef;
    color: #495057;
    padding: 0.4rem 0.8rem;
    margin: 0.2rem;
    border-radius: 20px;
    font-size: 0.9rem;
    border: 1px solid #dee2e6;
}
</style>
{% endblock %}